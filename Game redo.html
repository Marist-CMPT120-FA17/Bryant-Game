<html>
  <head>
    <title>Lost in Pennsylvania</title>
<!-- Bryant Gowan
	 Project 4
	 11/2/17-->
    <script src = "location.js"></script>
    <script type = "text/javascript">
      var startloc = 0;
      var score = 0;
      
      var cornField         = false;
      var cornFarm          = false;
      var river     	    = false;
      var amishDude         = false;
      var amishTown  		= false;
      var forest     		= false;
      var highway       	= false;
      var gasStation    	= false;
      var collegeCampus     = false;
      var fratHouse     	= false;
	  var userInventory     = [];
	  var water             = true;
	  
        function Score() {
				var score = (cornField + cornFarm + river + amishDude + amishTown + forest + highway + gasStation + collegeCampus + fratHouse) * 5;
					document.getElementById("score").innerHTML = "Score: " + score;
				}
      
		function init() {
				 look();
				}
		function look() {
				var desc = "";
				switch (startloc) {
					case 0: cornField();
							break;
					case 1: cornFarm();
							break;
					case 2: river();
							break;
					case 3: amishDude();
							break;
					case 4: amishTown();
							break;
					case 5: forest();
						break;
					case 6: highway();
							break;
					case 7: gasStation();
							break;
					case 8: collegeCampus();
							break;
					case 9: fratHouse();
							break;
					default: desc = "That direction is blocked off.";
							break;
					}	
			}
		function Score() {
				if (!cornField && startloc === 0){
					score = score + 5;
					cornField = true;
				} else if (!cornFarm && startloc === 1){
					score = score + 5;
					cornFarm = true;
				} else if (!river && startloc === 2){
					score = score + 5;
					river = true;
				} else if (!amishDude && startloc === 3){
					score = score + 5;
					amishDude = true;
				} else if (!amishTown && startloc === 4){
					score = score + 5;
					amishTown = true;
				} else if (!forest && startloc === 5){
					score = score + 5;
					forest = true;
				} else if (!highway && startloc === 6){
					score = score + 5;
					highway = true;
				}else if (!gasStation && startloc === 7){
					score = score + 5;
					gasStation = true;
				}else if (!collegeCampus && startloc === 8){
					score = score + 5;
					collegeCampus = true;
				}else if (!fratHouse && startloc === 9){
					score = score + 5;
					fratHouse = true;
				}
				document.getElementById("score").innerHTML = score;
			}
		function btnNorth() {
			if (startloc === 3) {
				startloc = 0;
				look();
			} else if (startloc === 4) {
				startloc = 1;
				look();
			} else if (startloc === 5) {
				startloc = 2;
				look();
			} else if (startloc === 6) {
				startloc = 3;
				look();
			} else if (startloc === 7) {
				startloc = 4;
				look();
			} else if (startloc === 8) {
				startloc = 5;
				look();
			} else if (startloc === 9) {
				startloc = 8;
				look();
			} else {
				updateDisplay("You cannot move North.");
			}
			  Score();
		  }
		  function btnSouth() {
			if (startloc === 0) {
				startloc = 3;
				look();
			} else if (startloc === 1) {
				startloc = 4;
				look();
			} else if (startloc === 2) {
				startloc = 5;
				look();
			} else if (startloc === 3) {
				startloc = 6;
				look();
			} else if (startloc === 4) {
				startloc = 7;
				look();
			} else if (startloc === 5) {
				startloc = 8;
				look();
			} else {
				updateDisplay("You cannot move South.");
			}
			  Score();
		  }
		  function btnEast() {
			if (startloc === 0) {
				startloc = 1;
				look();
			} else if (startloc === 1) {
				startloc = 2;
				look();
			} else if (startloc === 3) {
				startloc = 4;
				look();
			} else if (startloc === 4) {
				startloc = 5;
				look();
			} else if (startloc === 6) {
				startloc = 7;
				look();
			} else if (startloc === 7) {
				startloc = 8;
				look();
			} else if (startloc === 8) {
				startloc = 9;
				look();
			} else {
				updateDisplay("You cannot move East.");
			}
			  Score();
		  }
		  function btnWest() {
			if (startloc === 2) {
				startloc = 1;
				look();
			} else if (startloc === 1) {
				startloc = 0;
				look();
			} else if (startloc === 5) {
				startloc = 4;
				look();
			} else if (startloc === 4) {
				startloc = 3;
				look();
			} else if (startloc === 8) {
				startloc = 7;
				look();
			} else if (startloc === 7) {
				startloc = 6;
				look();
			} else {
				updateDisplay("You cannot move West.");
			}
			  Score();
		  }
	  
		  function goBtn() {
			  var userText = document.getElementById("textCommand").value;
			  var response = "";
			  var helpMessage = "Valid commands are n, s, e, w, N, S, E, W.";
			  var errorMessage = "Invalid Command.  n,s,e,w,N,S,E,W are valid commands.";
			  if (userText === "n" || userText === "N") {
				response = btnNorth();
			  } else if (userText === "s" || userText === "S") {
				response = btnSouth();
			  } else if (userText === "e" || userText === "E") {
				response = btnEast();
			  } else if (userText === "w" || userText === "W") {
				response = btnWest();
			  } else if (userText === "T" || userText ==="t") {
				response = take();
			  } else if (userText === "I" || userText ==="i") {
				response = inventory();
			  }else if (userText === "help" || userText === "HELP"){
				var textarea = document.getElementById("msg");
				textarea.value = helpMessage;
			  } else {
				var textarea = document.getElementById("msg");
				textarea.value = errorMessage;
			  }
		  
		  function updateDisplay(msg) {
			  var target = document.getElementById("msg");
			  target.value = msg + "\n\n" + target.value;
			}
		//inventory system is hopefully working, spent a lot of time in the textbook and the internet trying to figure it out an
		 function take() {
			 var message = "Item is now in your inventory!";
			 if ((startLoc === 7) && (water)) {
				 water = false;
				 userInventory.push("[water]");
				 gameMessage(message);
				 }
			 }
		function inventory() {
			var playerInventory = "";
			for (j=0; j < userInventory.length; j++) {
				playerInventory = playerInventory + userInventory[j];
				}
				gameMessage(playerInventory);
			}
  </script>
</head>
  
<body onload="init()">


<h1> Lost in Pennsylvania </h1>

  <textarea rows="15" cols="50" id="msg" name="message">You wake up dazed and confused in the middle of a corn field wondering what happened last night.</textarea>
    <textarea rows="1" cols="10" id="score" name="scorebox"> </textarea>
	<br>
	<br>
    Command:       
    <input type="text" id="textCommand" name="textCommand">
    <input type="button" id= "go" value="Go" onclick= "goBtn()">
    <br>
	<br>
    <input type="button" 
		   id= "north"
		   value= "North" 
		   onclick= "btnNorth()">
    <input type="button" 
		   id= "south" 
		   value= "South" 
		   onclick= "btnSouth()">
	<input type="button" 
		   id= "east" 
		   value= "East" 
		   onclick= "btnEast()">
    <input type="button" 
		   id= "west" 
		   value= "West" 
		   onclick= "btnWest()">
	<input type="button" 
		   value="Take" 
		   onclick="take()" 
		   id="btnTake"/> 
	<input type="button" 
		   value="Inventory" 
		   onclick="inventory()" 
		   id="btnInventory"/>
    <br>
    <br> 
	Questions? <a href= "mailto:bryant.gowan1@marist.edu">Email me.</a>
  </body>
</html>